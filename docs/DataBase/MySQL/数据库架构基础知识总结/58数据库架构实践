58同城数据库架构最佳实践总结：https://opentalk.upyun.com/285.html

零、数据库的基本概念：
    1.单库：
        开始的时候数据库都是这么玩的，几乎所有的业务都有这样的一个库。所有的请求丢到这个库里面。


    2.分片：
        分片是解决数据量大的问题，如果数据量非常大，要做水平切分。
        MangoDB：
            1.auto sharding 功能不太可控，不知道什么时间进行迁移数据
            2.数据迁移过程中会有比较大的锁，读写被阻塞

        -路由：一旦有分片，多库分布在不同的实例上，到底访问哪一个实例呢？就会出现数据路由的概念。

        -路由方法：
            <1>.范围路由。若有两个分片为0-1亿 1-2亿
                优点：这种方式可以马上知道数据在哪一个分片上，易扩展（增加分片即可）
                缺点：数据均衡，但请求的负载会不均衡（新用户活跃度高导致ID范围大的请求负载更高）

            <2>.hash分片。
            <3>.









































