---
title: 项目背景
order: 1
group:
  title: cli
  order: 42
---

# 什么是 cli

CLI（command-line interface，命令行界面）是指可在用户提示符下键入可执行指令的界面，它通常不支持鼠标，用户通过键盘输入指令，计算机接收到指令后，予以执行。

# 为什么要搞 cli

CLI 是前端开发的生产工具，提升 CLI 的体验可以直接提升我们的生产力，这是我们的第一需求。

## 多项目基础配置基本类似

对于团队开发来说，每个项目中的基础配置代码大致是比较类似的，如 webpack、项目文件架构、发布构建文件、统一框架等等。

> 痛点：
>
> 1. 每次在启动新项目时都需要将之前的项目 copy 过来修修改改使用，不仅效率低，且手动修改容易出现比较隐蔽的问题。
> 2. copy 老项目之后，很多基础配置需要手动修改、添加，拓展性不足。
> 3. 不断的重复工作，没有技术累积和沉淀。

## 团队统一规范比较难以推进和实施

- 代码没有规范，每个人的风格随心所欲，代码交付质量不可控。
- 提交 commit 没有规范，无法从 commit 知晓提交开发内容。
- 研发没有流程规范，需求开发过程节点把控比较乱，影响项目进度。
- 部署依赖不统一，人为控制比较乱，版本追踪、回滚等没有规范，在出现生产问题时，定位问题以及及时回滚以便用户使用都需要多余的时间去处理，影响用户使用。

除此之外，cli 可以作为前端工程化集成解决方案，将项目和团队的最佳实践融入到 cli 中，同时统一并标准化项目，以便只需要升级 cli 就可以实现解决方案在项目之间的迁移。

> 举个栗子：
> 加入团队通过实践证明某一个方案可行，那么就可以封装到 cli 的某个命令中，或者发布对应的插件，通过改变打包参数来让项目支持这种解决方案，不必每个项目都去单独安装，单独调试，既节省了人力，也节省了学习成本。

### 什么是工程化

广义上来说，一切以**提高效率、降低成本、保障质量**为目的的手段都属于工程化。

> 通过一系列的规范、流程、工具以达到**研发提效、自动化、保障质量、服务稳定、预警监控**等等。

### 前端的工程化

对于前端而言，使用 node 将研发链路从切图仔延伸到整个 DevOps 中去，服务于业务且提高开发效率，腾出时间去学习更多的技术，实现良性循环。

## cli 有什么好处

1. 快速生成应用模板，如 vue-cli 等根据与开发者的一些交互式问答生成应用框架
2. 服务启动，如 ng serve
3. eslint，代码校验，如 vue,angular，基本都具备此功能
4. 自动化测试 如 vue,angular，基本都具备此功能
5. 编译 build，如 vue,angular，基本都具备此功能
6. 编译分析，利用 webpack 插件进行分析
7. git 操作
8. 做一些小工具用途的功能，如 http 请求 api、图片压缩、生成雪碧图等等，只要你想做的都能做
   **总而言之，就是用一些快捷的操作取代人工重复工作。**

## 与 npm script 的对比

上述功能其实用**npm script**也可以实现开发工作流，通过在`package.json`中的**script**对象上配置相关 npm 命令，执行对应 js 来达到目的。

但是**cli**相比**npm script**具有一些无法取代的优势：

1. npm script 是某个具体项目的，只能在该项目中使用，cli 是全局安装的，多个项目使用。如：使用 npm script 实现了一个很好的技术解决方案，仅仅该项目可以使用，如果其他项目也要使用，只能 cv 大法，而 cli 则可以直接集成在代码中，每个项目只需要更新 cli 的版本就可以使用，且可以封装到开箱即用，也降低了学习成本。
2. npm script 在业务工程中嵌入工作流，耦合太高，cli 可以让业务代码剥离，仅处理基础服务，不涉及业务。
3. cli 可以不断迭代开发、沉淀。
