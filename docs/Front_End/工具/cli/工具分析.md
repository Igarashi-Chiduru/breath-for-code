---
title: 工具分析
order: 2
---

# CLI 工具分析

## 目的

**完成一个团队、项目通用的 CLI 工具。**

使用 cli 工具的目的，是解放双手，将重复的事情交给代码去完成。

> Coding 永远不是最难的，最难的是不知道能使用 coding 去做些什么有价值的事情。

## DevOps 流程

一个比较简单的 DevOps 流程主要分为三步：**常规构建、git flow、CI/CD**。

### 常规构建

组件库 + 脚手架 + 工具库 + 模板 + CLI

### Git Flow

通过常规 Git Flow 工作流程，不同 branch 不同功能。

### CI/CD

构建脚本等。

## 分析

根据上述的 DevOps 流程，先简单的规划处 CLI 四大模块。后续需要拓展再插入即可。
|模块|备注|
|:----:|:----:|
|构建|提供本地构建功能 接管发布构建|
|质量|自动化测试 eslint 校验|
|模板|创建模板 创建区块|
|工具合集|一些可以内置的工具类|

### 构建

目前团队中是使用多套配置文件实现多环境构建，但是存在生产环境的环境变量处于代码中，任何人都可以修改。

为了实现统一的构建流程和规范，使用 cli 直接生成统一命名的文件和模板，日后可以考虑直接**使用 CLI 来接管流程**，不再读取项目中的配置，可以在 cli 中使用统一配置（可自定义）进行构建。避免因为开发同学误操作或者错误配置而导致的生产问题。

### 质量

代码质量是业务开发中极其重要的一环，项目保证了代码质量，可以提高新接手的开发同学的上手速率已经规避比较低级的 bug。

一般代码质量保障主要分为三点：

- 自动化测试
- 代码格式校验以及变量类型校验
- 代码错误监控

自动化测试前端相对来说比较少，实现可以滞后。相对来说，代码格式以及变量类型校验最为重要，能很方便的在开发过程中排除一些低级 bug，至于代码错误监控，则是代码上线之后的质量保障，可以更快的发现、定位 bug。

### 模板

对于团队来说，CLI 收益最高的就是模板了，实现统一的模板，可以快速的搭建一个新项目并上手。

无论是**搭建项目文件框架**，还是**使用命令行创建文件模板**都能极其高效的接管 cv，解放双手留出更多摸鱼的时间。

### 工具合集

对于团队的统一使用的工具，可以内置在 CLI 中，将重复性的操作都可以放在工具合集中实现解放双手，后续可以使用交互式命令行选择性的添加需要使用的工具。
